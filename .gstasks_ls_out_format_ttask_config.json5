{
  is_use_style: true,
  out_file: "ttask_tasks.html",
  sorting_sql: "@/Users/nailbiter/Documents/forgithub/pyassistantbot2/.gstasks_ttask_res/sorting.jinja.sql",
  row_styling_sql: "\
    select uuid,\
iif(date(scheduled_date)=date('{{now}}'),'is_today','') as class,\
 scheduled_date, datetime('{{now}}') as now\
--status as class \n\
from tasks\
",
  template: "\
<html>\
  <style>\
  table {\
    border: 1px solid;\
    /* outline: 0.5rem solid khaki; */\
    /* box-shadow: 0 0 0 2rem skyblue; */\
    /* border-radius: 12px; */ \
    /* font: bold 1rem sans-serif; */\
    /* margin: 2rem; */\
    /* padding: 1rem; */\
    /* outline-offset: 0.5rem; */\
\
    table-layout: fixed; width: 100%\
}\
\
\
th {\
    border: 1px solid;\
}\
\
.col0 {\
}\
\
td {\
    border: 1px solid;\
}\
\
.is_today {\
    background-color: lightgray;\
}\
.REGULAR {\
    background-color: brown;\
}\
>\
</style>\
  <p>$row_num tasks</p>\
  ${table_html}\
</html>",
  sql_udfs_file: "gstasks_sql_uds.py",
  index_style: "{{x.split('-')[0]}}",
  output_columns: [
    { column_name: "name" },
    {
      column_name: "URL",
      jinja_tpl: '{%if not utils.pd.isna(x)%}<a href="{{x}}">U</a>{%endif%}',
    },
    {
      column_name: "scheduled_date",
      jinja_tpl: "{{'' if utils.pd.isna(x) else x.strftime('%Y-%m-%d')}}",
    },
    { column_name: "status" },
    { column_name: "when", jinja_tpl: "{{x[0]}}" },
    {
      column_name: "due",
      jinja_tpl: "{{'' if utils.pd.isna(x) else x.strftime('%Y-%m-%d')}}",
    },
    {
      column_name: "_insertion_date",
      jinja_tpl: "{{'' if utils.pd.isna(x) else x.strftime('%Y-%m-%d %H:%M')}}",
    },
    {
      column_name: "tags",
      jinja_tpl: "{{utils.json5.loads(x)|select('ne','7cd20942-def7-41c3-9f32-b818e6781566')|list}}",
    },
    //|select('ne','7cd20942-def7-41c3-9f32-b818e6781566')}}" },
    { column_name: "comment" },
    {
      column_name: "_last_modification_date",
      jinja_tpl: "{{'' if utils.pd.isna(x) else x.strftime('%Y-%m-%d %H:%M')}}",
    },
    {
      column_name: "is_engage",
      jinja_tpl: "{{'E' if (r.uuid==last_engaged_task_uuid) else ''}}",
    },
    { column_name: "labels", jinja_tpl: "{{r.label}}" },
    /*{
      column_name: "test",
      jinja_tpl: "{{utils.custom.ifnull(utils.custom.get_task_by_uuid(utils.custom.ifnull(r.get('label'),{}).get('test')),{}).get('name')}}",
      //jinja_tpl: "{{utils.custom.ifnull(utils.custom.get_task_by_uuid(utils.custom.ifnull(r.get('label'),{},is_loud=True).get('test')),{}).get('name')}}",
    },*/
  ],
}
